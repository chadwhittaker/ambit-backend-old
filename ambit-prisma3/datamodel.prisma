enum Role {
  ADMIN
  PRO
  USER
  BUSINESS
  SUSPENDED
}

scalar DateTime

type User {
  id: ID! @id
  createdAt: DateTime! @createdAt
  name: String!
  firstName: String!
  lastName: String!
  email: String! @unique
  password: String!
  profilePic: String
  bannerPic: String
  location: String
  locationLat: Float
  locationLon: Float
  jobTitle: String
  profession: String
  industry: String
  website: String
  bio: String
  skills: [Skill] @relation(name: "SkillsByUser" onDelete: CASCADE)
  interests: [String] @scalarList(strategy: RELATION)
  experience: [Experience] @relation(name: "ExperiencesByUser" onDelete: CASCADE)
  education: [Education] @relation(name: "EducationByUser" onDelete: CASCADE)
  posts: [Post] @relation(name: "PostsByUser" onDelete: CASCADE)
  connections: [User] @relation(name: "MyConnections")
  following: [User] @relation(name: "ImFollowing")
  followers: [User] @relation(name: "MyFollowers")
  intro: String
  projects: [String] @scalarList(strategy: RELATION)
  meetings: [Meeting]
  savedFilters: [Filter]
  rank: Int! @default(value: 0)
  roles: [Role] @scalarList(strategy: RELATION)
}

type Skill {
  id: ID! @id
  owner: User! @relation(name: "SkillsByUser")
  skill: String!
  isExpert: Boolean! @default(value: false)
}

type Experience {
  id: ID! @id
  owner: User! @relation(name: "ExperiencesByUser")
  name: String!
  subText: String!
  startDateMonth: String!
  startDateYear: Int!
  endDateMonth: String
  endDateYear: Int
  location: String
  currentRole: Boolean @default(value: false)
}

type Education {
  id: ID! @id
  owner: User! @relation(name: "EducationByUser")
  name: String!
  subText: String!
  startDateMonth: String
  startDateYear: Int!
  endDateMonth: String
  endDateYear: Int
  location: String
  currentRole: Boolean @default(value: false)
}

type Post {
  id: ID! @id
  createdAt: DateTime! @createdAt
  lastUpdated: DateTime!
  owner: User! @relation(name: "PostsByUser")
  isGoal: Boolean! @default(value: false)
  goal: String
  location: String!
  locationLat: Float!
  locationLon: Float!
  content: String!
  tags: [String]! @scalarList(strategy: RELATION)
  images: [String]! @scalarList(strategy: RELATION)
  video: String
  pitch: String
  isPrivate: Boolean! @default(value: false)
  comments: [Comment!]! @relation(name: "CommentToPostRelation" onDelete: CASCADE)
  updates: [Update!]! @relation(name: "UpdateToPostRelation" onDelete: CASCADE)
  likes: [String]! @scalarList(strategy: RELATION)
  likesCount: Int! @default(value: 0)
  likedByMe: Boolean! @default(value: false)
  commentsCount: Int
  sharesCount: Int
}

type Update {
  id: ID! @id
  createdAt: DateTime! @createdAt
  parentPost: Post! @relation(name: "UpdateToPostRelation")
  content: String!
  image: String
  likes: [String]! @scalarList(strategy: RELATION)
  likesCount: Int! @default(value: 0)
  likedByMe: Boolean! @default(value: false)
  comments: [Comment!]! @relation(name: "CommentToUpdateRelation" onDelete: CASCADE)
  commentsCount: Int
  sharesCount: Int
}

type Comment {
  id: ID! @id
  createdAt: DateTime! @createdAt
  owner: User
  parentPost: Post! @relation(name: "CommentToPostRelation")
  parentComment: Comment @relation(name: "CommentToCommentRelation")
  parentUpdate: Update @relation(name: "CommentToUpdateRelation")
  content: String
  image: String
  likes: [String]! @scalarList(strategy: RELATION)
  likesCount: Int! @default(value: 0)
  likedByMe: Boolean! @default(value: false)
  comments: [Comment!]! @relation(name: "CommentToCommentRelation" onDelete: CASCADE)
  commentsCount: Int
}

type Meeting {
  id: ID! @id
  createdAt: DateTime! @createdAt
  users: [User!]!
  startTime: DateTime!
  endTime: DateTime!
  place: String
}

type Filter {
  id: ID! @id
  owner: User
}