enum Role {
  ADMIN
  PRO
  USER
  BUSINESS
  SUSPENDED
}

scalar DateTime

type User {
  id: ID! @id
  createdAt: DateTime! @createdAt
  name: String!
  firstName: String!
  lastName: String!
  email: String! @unique
  password: String!
  profilePic: String
  bannerPic: String
  location: String
  locationLat: Float
  locationLon: Float
  headline: String
  website: String
  bio: String
  about: String
  isMentor: Boolean
  isFreelancer: Boolean
  isAgency: Boolean
  isInvestor: Boolean
  mentorFields: [String] @scalarList(strategy: RELATION)
  freelanceFields: [String] @scalarList(strategy: RELATION)
  investorFields: [String] @scalarList(strategy: RELATION)
  agencyFields: [String] @scalarList(strategy: RELATION)
  skills: [Skill] @relation(name: "SkillsByUser" onDelete: CASCADE)
  industry: [String] @scalarList(strategy: RELATION)
  interests: [String] @scalarList(strategy: RELATION)
  experience: [Experience] @relation(name: "ExperiencesByUser" onDelete: CASCADE)
  education: [Education] @relation(name: "EducationByUser" onDelete: CASCADE)
  posts: [Post] @relation(name: "PostsByUser" onDelete: CASCADE)
  connections: [User] @relation(name: "MyConnections")
  following: [User] @relation(name: "ImFollowing")
  followers: [User] @relation(name: "MyFollowers")
  intro: Story @relation(name: "MyIntro")
  projects: [Story] @relation(name: "MyProjects")
  meetings: [Meeting]
  savedFilters: [Filter]
  rank: Int! @default(value: 0)
  roles: [Role] @scalarList(strategy: RELATION)
}

type Story {
  id: ID! @id
  title: String!
  items: [StoryItem!]! @relation(name: "StoryToStoryItem" onDelete: CASCADE)
}

type StoryItem {
  id: ID! @id
  story: Story! @relation(name: "StoryToStoryItem")
  type: String!
  url: String!
  link: String
  text: String
  duration: Float
}

type Skill {
  id: ID! @id
  owner: User! @relation(name: "SkillsByUser")
  skill: String!
  isExpert: Boolean! @default(value: false)
}

type Experience {
  id: ID! @id
  owner: User! @relation(name: "ExperiencesByUser")
  name: String!
  subText: String!
  startDateMonth: String!
  startDateYear: Int!
  endDateMonth: String
  endDateYear: Int
  location: String
  currentRole: Boolean @default(value: false)
}

type Education {
  id: ID! @id
  owner: User! @relation(name: "EducationByUser")
  name: String!
  subText: String!
  startDateMonth: String
  startDateYear: Int!
  endDateMonth: String
  endDateYear: Int
  location: String
  currentRole: Boolean @default(value: false)
}

type Post {
  id: ID! @id
  createdAt: DateTime! @createdAt
  lastUpdated: DateTime!
  owner: User! @relation(name: "PostsByUser")
  isGoal: Boolean! @default(value: false)
  goal: String
  topic: String
  subTopic: String
  location: String!
  locationLat: Float!
  locationLon: Float!
  content: String!
  images: [String]! @scalarList(strategy: RELATION)
  video: String
  pitch: String
  isPrivate: Boolean! @default(value: false)
  comments: [Comment]! @relation(name: "CommentToPostRelation" onDelete: CASCADE)
  updates: [Update]! @relation(name: "UpdateToPostRelation" onDelete: CASCADE)
  likes: [String]! @scalarList(strategy: RELATION)
  likesCount: Int
  likedByMe: Boolean
  commentsCount: Int
  sharesCount: Int
}

type Update {
  id: ID! @id
  createdAt: DateTime! @createdAt
  parentPost: Post! @relation(name: "UpdateToPostRelation")
  content: String!
  image: String
  likes: [String]! @scalarList(strategy: RELATION)
  likesCount: Int
  likedByMe: Boolean
  comments: [Comment]! @relation(name: "CommentToUpdateRelation" onDelete: CASCADE)
  commentsCount: Int
  sharesCount: Int
}

type Comment {
  id: ID! @id
  createdAt: DateTime! @createdAt
  owner: User!
  parentPost: Post @relation(name: "CommentToPostRelation")
  parentUpdate: Update @relation(name: "CommentToUpdateRelation")
  parentComment: Comment @relation(name: "CommentToCommentRelation")
  content: String
  image: String
  likes: [String]! @scalarList(strategy: RELATION)
  likesCount: Int
  likedByMe: Boolean
  comments: [Comment]! @relation(name: "CommentToCommentRelation" onDelete: CASCADE)
  commentsCount: Int
}

type Meeting {
  id: ID! @id
  createdAt: DateTime! @createdAt
  users: [User!]!
  startTime: DateTime!
  endTime: DateTime!
  place: String
}

type Filter {
  id: ID! @id
  owner: User
}