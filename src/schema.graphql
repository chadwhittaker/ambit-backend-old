# import * from "./generated/prisma.graphql"

scalar DateTime 

type Query {
  userLoggedIn: User
  user(id: ID!): User
  users: [User]!
  postsGlobal: [Post]!
  postsLocal(lat: Float, lon: Float, radius: Int): [Post]!
  postsUser(id: ID!): [Post]!

  allComments(postId: ID!, isUpdate: Boolean): [Comment!]!

  # singlePost(id: ID!): Post!
  # singleUpdate(id: ID!): Update!
}

type Mutation {
  signup(firstName: String!, lastName: String!, email: String!, password: String!): AuthPayload
  login(email: String!, password: String!): AuthPayload
  editBio(id: ID!, data: UserUpdateInput!): User!
  editSkills(id: ID!, skills: [SkillCreateWithoutOwnerInput!]): User!

  createExperience(owner: ID!, experience: ExperienceCreateWithoutOwnerInput!): User!
  editExperience(owner: ID!, id: ID!, experience: ExperienceUpdateInput!): User!
  deleteExperience(owner: ID!, id: ID!): User!

  createEducation(owner: ID!, education: EducationCreateWithoutOwnerInput!): User!
  editEducation(owner: ID!, id: ID!, education: EducationUpdateInput!): User!
  deleteEducation(owner: ID!, id: ID!): User!

  createPost(owner: ID!, post: PostCreateInput!): Post
  deletePost(owner: ID!, id: ID!): Education

  createUpdate(postId: ID!, update: UpdateCreateWithoutParentPostInput!): Post

  likePost(postId: ID!): Post!
}

type AuthPayload {
  token: String
  user: User
}

enum Role {
  ADMIN
  PRO
  USER
  BUSINESS
  SUSPENDED
}
